<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MIRA - Whiskas Dry Adult Dewasa 7+</title>
    <link rel="stylesheet" href="/admin/css/style.css" />
    <link rel="stylesheet" href="/admin/css/users/detailUser.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css"
        integrity="sha512-2SwdPD6INVr   V/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon/favicon-32x32.png" />
</head>

<body>
    <div class="container">
        <%- include('../layout/sidebar.ejs'); -%>

            <%- include('../layout/header.ejs'); -%>
                <!-- Main Content -->


                <main class="main-content">
                    <h2 style="margin-bottom: 20px;">Chi ti·∫øt kh√°ch h√†ng</h2>
                    <div class="container_detail">
                        <!-- Header -->
                        <div class="header_detail">
                            <div class="header-content">

                                <img src="<%= user.avatar ? '/images/users/' + user.avatar : '/images/users/avatar-face.jpg' %>"
                                    alt="Customer Avatar" class="customer-avatar" id="customerAvatar">

                                <div class="customer-info">
                                    <h1 id="customerName">
                                        <%= user.username %>
                                    </h1>
                                    <p id="customerEmail">üìß <%= user.email %>
                                    </p>
                                    <p id="customerPhone">üì± <%= user.phone %>
                                    </p>
                                    <p id="customerJoinDate">
                                        üìÖ <%= user.birthday ? user.birthday.toLocaleDateString("vi-VN") : "" %>
                                    </p>
                                </div>
                                <div class="actions">
                                    <button class="btn btn-primary" onclick="openUpdateModal()">
                                        ‚úèÔ∏è C·∫≠p nh·∫≠t th√¥ng tin
                                    </button>
                                    <button class="btn btn-primary" onclick="goBack()">
                                        ‚Üê Quay l·∫°i
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Content -->
                        <div class="content">
                            <!-- Tabs -->
                            <div class="tabs">
                                <div class="tab active" onclick="switchTab('info')">Th√¥ng tin c∆° b·∫£n</div>
                                <div class="tab" onclick="switchTab('orders')">L·ªãch s·ª≠ ƒë∆°n h√†ng</div>
                                <div class="tab" onclick="switchTab('loyalty')">ƒêi·ªÉm th∆∞·ªüng</div>
                            </div>

                            <!-- Tab Content -->
                            <div id="info" class="tab-content active">
                                <div class="info-grid">
                                    <div class="info-card">
                                        <h3>üè† Th√¥ng tin c√° nh√¢n</h3>
                                        <div class="info-item">
                                            <span class="info-label">H·ªç v√† t√™n:</span>
                                            <span class="info-value">
                                                <%= user.username %>
                                            </span>
                                        </div>
                                        <div class="info-item">
                                            <span class="info-label">Gi·ªõi t√≠nh:</span>
                                            <span class="info-value">
                                                <%= user.gender %>
                                            </span>
                                        </div>
                                        <div class="info-item">
                                            <span class="info-label">Ng√†y sinh:</span>
                                            <span class="info-value">
                                                <%= user.birthday ? user.birthday.toLocaleDateString("vi-VN") : "" %>
                                            </span>
                                        </div>
                                        <div class="info-item">
                                            <span class="info-label">ƒê·ªãa ch·ªâ:</span>
                                            <span class="info-value">
                                                <%= user.address %>
                                            </span>
                                        </div>
                                    </div>

                                    <div class="info-card">
                                        <h3>üìä Th·ªëng k√™ t√†i kho·∫£n</h3>
                                        <div class="info-item">
                                            <span class="info-label">T·ªïng ƒë∆°n h√†ng:</span>
                                            <span class="info-value">24 ƒë∆°n</span>
                                        </div>
                                        <div class="info-item">
                                            <span class="info-label">T·ªïng chi ti√™u:</span>
                                            <span class="info-value">15.750.000 VNƒê</span>
                                        </div>
                                        <div class="info-item">
                                            <span class="info-label">ƒê∆°n h√†ng trung b√¨nh:</span>
                                            <span class="info-value">656.250 VNƒê</span>
                                        </div>
                                        <div class="info-item">
                                            <span class="info-label">L·∫ßn mua cu·ªëi:</span>
                                            <span class="info-value">28/11/2024</span>
                                        </div>
                                    </div>



                                </div>
                            </div>

                            <div id="orders" class="tab-content">
                                <table class="orders-table">
                                    <thead>
                                        <tr>
                                            <th>M√£ ƒë∆°n</th>
                                            <th>Ng√†y ƒë·∫∑t</th>
                                            <th>S·∫£n ph·∫©m</th>
                                            <th>T·ªïng ti·ªÅn</th>
                                            <th>Tr·∫°ng th√°i</th>
                                            <th>Thao t√°c</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>#ORD001</td>
                                            <td>28/11/2024</td>
                                            <td>C√† ph√™ Arabica Premium x2</td>
                                            <td>450.000 VNƒê</td>
                                            <td><span class="order-status status-completed">Ho√†n th√†nh</span></td>
                                            <td><button class="btn " style="padding: 8px 16px; font-size: 0.9rem;">Xem
                                                    chi ti·∫øt</button>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>#ORD002</td>
                                            <td>15/11/2024</td>
                                            <td>Tr√† Earl Grey x1, B√°nh croissant x3</td>
                                            <td>320.000 VNƒê</td>
                                            <td><span class="order-status status-completed">Ho√†n th√†nh</span></td>
                                            <td><button class="btn btn-primary"
                                                    style="padding: 8px 16px; font-size: 0.9rem;">Xem chi ti·∫øt</button>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>#ORD003</td>
                                            <td>02/11/2024</td>
                                            <td>Combo c√† ph√™ + b√°nh ng·ªçt</td>
                                            <td>280.000 VNƒê</td>
                                            <td><span class="order-status status-processing">ƒêang x·ª≠ l√Ω</span></td>
                                            <td><button class="btn btn-primary"
                                                    style="padding: 8px 16px; font-size: 0.9rem;">Xem chi ti·∫øt</button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <div id="loyalty" class="tab-content">
                                <div class="info-grid">
                                    <div class="info-card">
                                        <h3>üèÜ ƒêi·ªÉm th∆∞·ªüng hi·ªán t·∫°i</h3>
                                        <div class="info-item">
                                            <span class="info-label">ƒêi·ªÉm t√≠ch l≈©y:</span>
                                            <span class="info-value">2,450 ƒëi·ªÉm</span>
                                        </div>
                                        <div class="info-item">
                                            <span class="info-label">H·∫°ng th√†nh vi√™n:</span>
                                            <span class="info-value">V√†ng</span>
                                        </div>
                                        <div class="info-item">
                                            <span class="info-label">∆Øu ƒë√£i hi·ªán t·∫°i:</span>
                                            <span class="info-value">Gi·∫£m 15%</span>
                                        </div>
                                    </div>

                                    <div class="info-card">
                                        <h3>üìà L·ªãch s·ª≠ ƒëi·ªÉm</h3>
                                        <div class="info-item">
                                            <span class="info-label">28/11/2024:</span>
                                            <span class="info-value">+45 ƒëi·ªÉm</span>
                                        </div>
                                        <div class="info-item">
                                            <span class="info-label">15/11/2024:</span>
                                            <span class="info-value">+32 ƒëi·ªÉm</span>
                                        </div>
                                        <div class="info-item">
                                            <span class="info-label">02/11/2024:</span>
                                            <span class="info-value">-100 ƒëi·ªÉm (ƒë·ªïi qu√†)</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>

                    <!-- Update Modal -->
                    <div id="updateModal" class="modal">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h2 class="modal-title">C·∫≠p nh·∫≠t th√¥ng tin kh√°ch h√†ng</h2>
                                <button class="close-btn" onclick="closeUpdateModal()">&times;</button>
                            </div>

                            <form id="updateForm">
                                <div class="form-row">
                                    <div class="form-group">
                                        <label class="form-label">H·ªç v√† t√™n *</label>
                                        <input type="text" class="form-input" id="updateName" value="Nguy·ªÖn VƒÉn An"
                                            required>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Email *</label>
                                        <input type="email" class="form-input" id="updateEmail"
                                            value="nguyenvanan@email.com" required>
                                    </div>
                                </div>

                                <div class="form-row">
                                    <div class="form-group">
                                        <label class="form-label">S·ªë ƒëi·ªán tho·∫°i *</label>
                                        <input type="tel" class="form-input" id="updatePhone" value="+84 901 234 567"
                                            required>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Gi·ªõi t√≠nh</label>
                                        <select class="form-input" id="updateGender">
                                            <option value="Nam" selected>Nam</option>
                                            <option value="N·ªØ">N·ªØ</option>
                                            <option value="Kh√°c">Kh√°c</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="form-row">
                                    <div class="form-group">
                                        <label class="form-label">Ng√†y sinh</label>
                                        <input type="date" class="form-input" id="updateBirthDate" value="1990-08-15">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Tr·∫°ng th√°i</label>
                                        <select class="form-input" id="updateStatus">
                                            <option value="active" selected>Ho·∫°t ƒë·ªông</option>
                                            <option value="inactive">Kh√¥ng ho·∫°t ƒë·ªông</option>
                                            <option value="banned">B·ªã kh√≥a</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label class="form-label">ƒê·ªãa ch·ªâ</label>
                                    <input type="text" class="form-input" id="updateAddress"
                                        value="123 Nguy·ªÖn Hu·ªá, Q1, TP.HCM">
                                </div>

                                <div class="form-group">
                                    <label class="form-label">Ghi ch√∫</label>
                                    <textarea class="form-input" id="updateNotes" rows="3"
                                        placeholder="Ghi ch√∫ v·ªÅ kh√°ch h√†ng..."></textarea>
                                </div>

                                <button type="submit" class="btn-save">
                                    <span id="saveText">üíæ L∆∞u thay ƒë·ªïi</span>
                                    <span id="saveLoading" class="loading" style="display: none;"></span>
                                </button>
                            </form>
                        </div>
                    </div>

                </main>
    </div>

    <!-- Update Modal -->
    <div id="updateModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">C·∫≠p nh·∫≠t th√¥ng tin kh√°ch h√†ng</h2>
                <button class="close-btn" onclick="closeUpdateModal()">&times;</button>
            </div>

            <form id="updateForm">
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">H·ªç v√† t√™n *</label>
                        <input type="text" class="form-input" id="updateName" value="Nguy·ªÖn VƒÉn An" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Email *</label>
                        <input type="email" class="form-input" id="updateEmail" value="nguyenvanan@email.com" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">S·ªë ƒëi·ªán tho·∫°i *</label>
                        <input type="tel" class="form-input" id="updatePhone" value="+84 901 234 567" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Gi·ªõi t√≠nh</label>
                        <select class="form-input" id="updateGender">
                            <option value="Nam" selected>Nam</option>
                            <option value="N·ªØ">N·ªØ</option>
                            <option value="Kh√°c">Kh√°c</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Ng√†y sinh</label>
                        <input type="date" class="form-input" id="updateBirthDate" value="1990-08-15">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Tr·∫°ng th√°i</label>
                        <select class="form-input" id="updateStatus">
                            <option value="active" selected>Ho·∫°t ƒë·ªông</option>
                            <option value="inactive">Kh√¥ng ho·∫°t ƒë·ªông</option>
                            <option value="banned">B·ªã kh√≥a</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">ƒê·ªãa ch·ªâ</label>
                    <input type="text" class="form-input" id="updateAddress" value="123 Nguy·ªÖn Hu·ªá, Q1, TP.HCM">
                </div>

                <div class="form-group">
                    <label class="form-label">Ghi ch√∫</label>
                    <textarea class="form-input" id="updateNotes" rows="3"
                        placeholder="Ghi ch√∫ v·ªÅ kh√°ch h√†ng..."></textarea>
                </div>

                <button type="submit" class="btn-save">
                    <span id="saveText">üíæ L∆∞u thay ƒë·ªïi</span>
                    <span id="saveLoading" class="loading" style="display: none;"></span>
                </button>
            </form>
        </div>
    </div>
    <script src="/admin/js/users/user-detail.js"></script>
</body>

</html>