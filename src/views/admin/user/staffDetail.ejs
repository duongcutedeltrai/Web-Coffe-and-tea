<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MIRA - Whiskas Dry Adult Dewasa 7+</title>
    <link rel="stylesheet" href="/admin/css/style.css" />
    <link rel="stylesheet" href="/admin/css/users/detailUser.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css"
        integrity="sha512-2SwdPD6INVr   V/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon/favicon-32x32.png" />
</head>

<body>
    <div class="container">
        <%- include('../layout/sidebar.ejs'); -%>

            <%- include('../layout/header.ejs'); -%>
                <!-- Main Content -->


                <main class="main-content">
                    <h2 style="margin-bottom: 20px;">Chi ti·∫øt nh√¢n vi√™n</h2>
                    <div class="container_detail">
                        <!-- Header -->
                        <div class="header_detail">
                            <div class="header-content">

                                <img src="<%= user.avatar ? '/images/users/' + user.avatar : '/images/users/avatar-face.jpg' %>"
                                    alt="staff Avatar" class="customer-avatar" id="customerAvatar">


                                <div class="customer-info">
                                    <h1 id="customerName">
                                        <%= user.username %>
                                    </h1>
                                    <p id="customerEmail">üìß <%= user.email %>
                                    </p>
                                    <p id="customerPhone">üì± <%= user.phone %>
                                    </p>
                                    <p id="customerJoinDate"> üìÖ <%= user.birthday ?
                                            user.birthday.toLocaleDateString("vi-VN") : "" %>
                                    </p>
                                </div>
                                <div class="actions">
                                    <button class="btn btn-primary" onclick="openUpdateModal()">
                                        ‚úèÔ∏è C·∫≠p nh·∫≠t th√¥ng tin
                                    </button>
                                    <button class="btn btn-primary" onclick="goBack()">
                                        ‚Üê Quay l·∫°i
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Content -->
                        <div class="content">
                            <!-- Tabs -->
                            <div class="tabs">
                                <div class="tab active" onclick="switchTab('infor')">Th√¥ng tin c∆° b·∫£n</div>
                                <div class="tab" onclick="switchTab('work')">Th√¥ng tin c√¥ng vi·ªác</div>
                                <div class="tab" onclick="switchTab('performance')">Hi·ªáu su·∫•t v√† ƒë√°nh gi√°</div>
                            </div>

                            <!-- Tab Content -->
                            <div id="infor" class="tab-content active">
                                <div class="info-grid">
                                    <div class="info-card">
                                        <h3>üè† Th√¥ng tin c√° nh√¢n</h3>
                                        <div class="info-item">
                                            <span class="info-label">H·ªç v√† t√™n:</span>
                                            <span class="info-value">
                                                <%= user.username %>
                                            </span>
                                        </div>
                                        <div class="info-item">
                                            <span class="info-label">Gi·ªõi t√≠nh:</span>
                                            <span class="info-value">
                                                <%= user.gender %>
                                            </span>
                                        </div>
                                        <div class="info-item">
                                            <span class="info-label">Ng√†y sinh:</span>
                                            <span class="info-value">
                                                <%= user.birthday ? user.birthday.toLocaleDateString("vi-VN") : "" %>
                                            </span>
                                        </div>
                                        <div class="info-item">
                                            <span class="info-label">ƒê·ªãa ch·ªâ:</span>
                                            <span class="info-value">
                                                <%= user.address %>
                                            </span>
                                        </div>
                                    </div>

                                    <div class="info-card">
                                        <h3>Th√¥ng tin li√™n h·ªá</h3>
                                        <div class="info-item">
                                            <span class="info-label">Email :</span>
                                            <span class="info-value">tranthihoa@company.com</span>
                                        </div>
                                        <div class="info-item">
                                            <span class="info-label">ƒêi·ªán tho·∫°i :</span>
                                            <span class="info-value">
                                                +84 901 234 568</span>
                                        </div>
                                        <div class="info-item">
                                            <span class="info-label">Ng∆∞·ªùi li√™n h·ªá kh·∫©n c·∫•p:</span>
                                            <span class="info-value">Tr·∫ßn VƒÉn Nam</span>
                                        </div>
                                        <div class="info-item">
                                            <span class="info-label">SƒêT kh·∫©n c·∫•p:</span>
                                            <span class="info-value">+84 912 345 678</span>
                                        </div>
                                        <div class="info-item">
                                            <span class="info-label">Quan h·ªá:</span>
                                            <span class="info-value">Anh trai</span>
                                        </div>
                                    </div>

                                </div>
                            </div>

                            <div id="work" class="tab-content">
                                <div class="info-grid">
                                    <div class="info-card">
                                        <h3>
                                            Th√¥ng tin c√¥ng vi·ªác</h3>
                                        <div class="info-item">
                                            <span class="info-label">M√£ nh√¢n vi√™n:</span>
                                            <span class="info-value">NV2022001</span>
                                        </div>
                                        <div class="info-item">
                                            <span class="info-label">Ch·ª©c v·ª•:</span>
                                            <span class="info-value">Ph·ª•c v·ª•</span>
                                        </div>
                                        <div class="info-item">
                                            <span class="info-label">Ng√†y b·∫Øt ƒë·∫ßu:</span>
                                            <span class="info-value">12/05/2022</span>
                                        </div>
                                        <div class="info-item">
                                            <span class="info-label">Tr·∫°ng th√°i:</span>
                                            <span class="info-value status-active">ƒêang l√†m
                                                vi·ªác</span>
                                        </div>
                                    </div>

                                    <div class="info-card">
                                        <h3>Th√¥ng tin l∆∞∆°ng & Ph√∫c l·ª£i</h3>
                                        <div class="info-item">
                                            <span class="info-label">L∆∞∆°ng c∆° b·∫£n:
                                            </span>
                                            <span class="info-value">12.000.000 VND</span>
                                        </div>
                                        <div class="info-item">
                                            <span class="info-label">Ph·ª• c·∫•p:</span>
                                            <span class="info-value">
                                                2.000.000 VND</span>
                                        </div>
                                        <div class="info-item">
                                            <span class="info-label">Lo·∫°i h·ª£p ƒë·ªìng:</span>
                                            <span class="info-value">
                                                H·ª£p ƒë·ªìng kh√¥ng x√°c ƒë·ªãnh th·ªùi h·∫°n</span>
                                        </div>
                                        <div class="info-item">
                                            <span class="info-label">Ng√†y k√Ω Hƒê:</span>
                                            <span class="info-value">12/05/2022</span>
                                        </div>
                                        <div class="info-item">
                                            <span class="info-label">B·∫£o hi·ªÉm:</span>
                                            <span class="info-value">ƒê·∫ßy ƒë·ªß</span>
                                        </div>
                                    </div>

                                </div>
                            </div>


                            <div id="performance" class="tab-content">
                                <div class="performance-metrics">
                                    <div class="metric-card">
                                        <div class="metric-value">92%</div>
                                        <div class="metric-label">ƒê√°nh gi√° t·ªïng th·ªÉ</div>
                                    </div>
                                    <div class="metric-card">
                                        <div class="metric-value">156</div>
                                        <div class="metric-label">ƒê∆°n h√†ng ƒë√£ x·ª≠ l√Ω</div>
                                    </div>
                                    <div class="metric-card">
                                        <div class="metric-value">2.5M</div>
                                        <div class="metric-label">Doanh thu th√°ng n√†y</div>
                                    </div>

                                </div>

                                <div class="info-grid">
                                    <div class="info-card" onclick="openChartModal()">
                                        <div
                                            style="display: flex; justify-content: space-between; margin-bottom: 20px;">
                                            <h3>
                                                K·∫øt qu·∫£ l√†m vi·ªác</h3>
                                            <button
                                                style="border: none; border-radius: 999px; padding: 0 20px; background-color: #b22830; color: #fff; font-weight: bold; cursor: pointer; position: relative;">xem
                                                bi·ªÉu ƒë·ªì</button>
                                        </div>
                                        <div class="info-item">
                                            <span class="info-label">S·ªë ng√†y l√†m vi·ªác:</span>
                                            <span class="info-value">22/22 ng√†y</span>
                                        </div>
                                        <div class="info-item">
                                            <span class="info-label">S·ªë gi·ªù l√†m th√™m:</span>
                                            <span class="info-value">15 gi·ªù</span>
                                        </div>
                                        <div class="info-item">
                                            <span class="info-label">S·ªë ƒë∆°n ho√†n th√†nh:</span>
                                            <span class="info-value">156 ƒë∆°n</span>
                                        </div>
                                        <div class="info-item">
                                            <span class="info-label">Doanh thu c√° nh√¢n:</span>
                                            <span class="info-value">2.500.000 VND</span>
                                        </div>
                                    </div>

                                    <div class="info-card">
                                        <h3>ƒê√°nh gi√° & Khen th∆∞·ªüng</h3>
                                        <div class="info-item">
                                            <span class="info-label">ƒê√°nh gi√° cu·ªëi nƒÉm 2023:
                                            </span>
                                            <span class="info-value">
                                                Xu·∫•t s·∫Øc</span>
                                        </div>
                                        <div class="info-item">
                                            <span class="info-label">L·∫ßn ƒë√°nh gi√° g·∫ßn nh·∫•t:</span>
                                            <span class="info-value">

                                                15/08/2024</span>
                                        </div>
                                        <div class="info-item">
                                            <span class="info-label">Khen th∆∞·ªüng:
                                            </span>
                                            <span class="info-value">
                                                Nh√¢n vi√™n xu·∫•t s·∫Øc th√°ng 7</span>
                                        </div>
                                        <div class="info-item">
                                            <span class="info-label">Ghi ch√∫:</span>
                                            <span class="info-value">L√†m vi·ªác t√≠ch c·ª±c, nhi·ªát t√¨nh</span>
                                        </div>

                                    </div>

                                </div>
                            </div>

                        </div>
                    </div>
                    <!-- Update Modal -->
                    <div id="updateModal" class="modal">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h2 class="modal-title">C·∫≠p nh·∫≠t th√¥ng tin nh√¢n vi√™n</h2>

                                <button class="close-btn" onclick="closeUpdateModal()">&times;</button>
                            </div>

                            <form id="updateForm" action="/admin/update-user" method="post"
                                enctype="multipart/form-data">

                                <input type="hidden" name="id" value="<%= user.user_id %>">

                                <div class="avatar-upload">
                                    <img src="<%= user.avatar ? '/images/users/' + user.avatar : '/images/users/avatar-face.jpg' %>"
                                        alt="staff Avatar" class="avatar-preview" id="avatarPreview">
                                    <div class="avatarFileLimit">
                                        <input type="file" id="avatarInput" accept="image/*" style="display: none;"
                                            name="avatar" onchange="previewAvatar(this)">
                                        <button type="button" class="avatar-upload-btn"
                                            onclick="document.getElementById('avatarInput').click()">
                                            Ch·ªçn ·∫£nh ƒë·∫°i di·ªán
                                        </button>
                                        <div style="font-size: 12px; color: #666; margin-top: 5px;">
                                            JPG, PNG t·ªëi ƒëa 2MB
                                        </div>
                                    </div>
                                </div>

                                <div class="form-row">


                                    <div class="form-group">
                                        <label class="form-label">H·ªç v√† t√™n *</label>
                                        <input type="text" class="form-input" name="username"
                                            value="<%= user.username %>" required>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Email *</label>
                                        <input type="email" class="form-input" name="email" value="<%= user.email %>"
                                            required>
                                    </div>
                                </div>

                                <div class="form-row">
                                    <div class="form-group">
                                        <label class="form-label">S·ªë ƒëi·ªán tho·∫°i *</label>
                                        <input type="tel" class="form-input" name="phone" value="<%= user.phone %>"
                                            required>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Gi·ªõi t√≠nh</label>
                                        <select class="form-input" id="updateGender" disabled>
                                            <option value="Nam" selected>Nam</option>
                                            <option value="N·ªØ">N·ªØ</option>
                                            <option value="Kh√°c">Kh√°c</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="form-row">
                                    <div class="form-group">
                                        <label class="form-label">Ng√†y sinh</label>
                                        <input type="date" class="form-input" name="birthday" value="1990-08-15"
                                            disabled>
                                    </div>

                                    <div class="form-group">
                                        <label class="form-label">Password</label>
                                        <input type="password" class="form-input" name="password"
                                            value="<%= user.password %>">
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label class="form-label">ƒê·ªãa ch·ªâ</label>
                                    <input type="text" class="form-input" name="address" value="<%= user.address %>">
                                </div>

                                <button type="submit" class="btn-save">
                                    <span id="saveText">üíæ L∆∞u thay ƒë·ªïi</span>
                                    <!-- <span id="saveLoading" class="loading" style="display: none;"></span> -->
                                </button>
                            </form>
                        </div>
                    </div>

                </main>
    </div>




    <!-- chart modal -->
    <div id="chartModal" class="modal">
        <div class="card">
            <div class="card-header">
                <h2 class="cart--title">Doanh s·ªë s·∫£n ph·∫©m</h2>
                <div class="tabs">
                    <div class="tab" data-type="daily">Daily</div>
                    <div class="tab" data-type="weekly">Weekly</div>
                    <div class="tab" data-type="monthly">Monthly</div>
                </div>
                <button class="close-btn" onclick="closeChartModal()">&times;</button>
            </div>
            <canvas id="myChart" height="150"></canvas>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="/admin/js/users/user-detail.js"></script>

</body>

</html>