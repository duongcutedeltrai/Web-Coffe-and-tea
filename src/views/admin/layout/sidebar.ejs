<!-- Sidebar -->
<!-- Sidebar -->
<nav class="sidebar">
  <a class="navbar-brand d-flex align-items-center" onclick="location.href='/admin/home'"
    style="margin: auto; padding-bottom: 20px">
    <img class="logo_nav" src="/images/logo1.png" alt="" style="width: 110px; height: auto; object-fit: cover" />
  </a>
  <hr style=" border: none; border-top: 1px solid rgba(0,0,0,0.2); height: 0;" />
  <div class="menu" style="padding-top: 20px">

    <% if (isAdmin || isStaff) { %>
      <!-- Menu chung admin + staff -->
      <a href="/admin" class="menu-item">
        <i class="fa-solid fa-house" style="color: #ffffff"></i>
        <span>Trang Chá»§</span>
      </a>
      <a href="/admin/orders" class="menu-item">
        <i class="fa-solid fa-newspaper" style="color: #ffffff"></i>
        <span>ÄÆ¡n hÃ ng</span>
      </a>
      <a href="/admin/promotions" class="menu-item">
        <i class="fa-regular fa-percent" style="color: #ffffff;"></i>
        <span>Khuyáº¿n mÃ£i</span>
      </a>

      <a href="/admin/categories" class="menu-item"><i class="fa-solid fa-list"></i> <span>Danh má»¥c</span></a>
      <a href="/admin/blogs" class="menu-item"><span>ğŸ“</span> <span>Blog</span></a>


      <% if (isAdmin) { %>
        <!-- Menu chá»‰ admin -->
        <a href="/admin/products" class="menu-item"><i class="fa-solid fa-mug-hot"></i> <span>Sáº£n Pháº©m</span></a>
        <a href="/admin/customer" class="menu-item"><i class="fa-solid fa-user"></i> <span>KhÃ¡ch hÃ ng</span></a>
        <a href="/admin/staff" class="menu-item"><i class="fa-solid fa-user-tie"></i> <span>NhÃ¢n viÃªn</span></a>
        <a href="/admin/statistics" class="menu-item"><i class="fa-solid fa-chart-line"></i> <span>Thá»‘ng kÃª</span></a>
        <a href="#" class="menu-item"><i class="fa-solid fa-gear"></i> <span>CÃ i Ä‘áº·t</span></a>
        <% } %>

          <% } else { %>
            <script>
              window.location.href = "/auth/login";
            </script>
            <% } %>
  </div>
</nav>


<script>
  document.addEventListener("DOMContentLoaded", () => {
    const currentPath = window.location.pathname; // VÃ­ dá»¥: /admin/categories/update/1
    const menuLinks = document.querySelectorAll(".menu-item");

    menuLinks.forEach(link => {
      const linkPath = link.getAttribute("href"); // VÃ­ dá»¥: /admin/categories

      // Náº¿u URL hiá»‡n táº¡i báº¯t Ä‘áº§u báº±ng linkPath (dÃ¹ cÃ³ /update/... phÃ­a sau)
      if (currentPath.startsWith(linkPath)) {
        menuLinks.forEach(l => l.classList.remove("active")); // XÃ³a active cÅ©
        link.classList.add("active"); // ThÃªm active vÃ o link Ä‘Ãºng
      }
    });

  });
</script>