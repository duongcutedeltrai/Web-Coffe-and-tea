<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Phê La - Home</title>
        <link
            href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
            rel="stylesheet"
        />
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
            rel="stylesheet"
        />
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css"
        />
        <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
        <link rel="stylesheet" href="/client/css/style.css" />
        <link rel="stylesheet" href="/client/css/home/home.css" />
        <link rel="stylesheet" href="/client/css/cart/cart-popup.css" />
        <link
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
            rel="stylesheet"
        />

        <!-- Font-->
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200..1000;1,200..1000&display=swap"
            rel="stylesheet"
        />

        <!--Favicon-->
        <link
            rel="shortcut icon"
            href="/images/favicon/favicon.ico"
            type="image/x-icon"
        />
        <link
            rel="icon"
            href="/images/favicon/favicon.ico"
            type="image/x-icon"
        />

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    </head>
    <body>
        <div class="splash">
            <div class="logo">
                <img
                    src="https://html.awaikenthemes.com/roast/images/loader.svg"
                    alt=""
                />
            </div>
        </div>
        <% if (!user || user.role_id!=3) { %> <%-
        include('../layout/navbar.ejs'); -%> <% } else { %> <%-
        include('../layout/navbar_login.ejs'); -%><% } %> <%-
        include('../cart/cart-popup.ejs'); -%>
        <section class="hero-section">
            <div
                id="heroCarousel"
                class="carousel slide"
                data-bs-ride="carousel"
            >
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img
                            src="/images/hero/hero1.jpg"
                            alt="Orange Iced Tea"
                            class="hero-drink"
                        />
                    </div>
                    <div class="carousel-item">
                        <img
                            src="/images/hero/hero2.jpg"
                            alt="Milk Tea"
                            class="hero-drink"
                        />
                    </div>
                    <div class="carousel-item">
                        <img
                            src="/images/hero/hero3.jpg"
                            alt="Milk Tea"
                            class="hero-drink"
                        />
                    </div>
                    <div class="carousel-item">
                        <img
                            src="/images/hero/hero4.jpg"
                            alt="Milk Tea"
                            class="hero-drink"
                        />
                    </div>
                    <div class="carousel-item">
                        <img
                            src="/images/hero/hero5.jpg"
                            alt="Milk Tea"
                            class="hero-drink"
                        />
                    </div>
                </div>

                <button
                    class="carousel-control-prev"
                    type="button"
                    data-bs-target="#heroCarousel"
                    data-bs-slide="prev"
                >
                    <span
                        class="carousel-control-prev-icon"
                        aria-hidden="true"
                    ></span>
                </button>
                <button
                    class="carousel-control-next"
                    type="button"
                    data-bs-target="#heroCarousel"
                    data-bs-slide="next"
                >
                    <span
                        class="carousel-control-next-icon"
                        aria-hidden="true"
                    ></span>
                </button>

                <div class="carousel-indicators">
                    <button
                        type="button"
                        data-bs-target="#heroCarousel"
                        data-bs-slide-to="0"
                        class="active"
                    ></button>
                    <button
                        type="button"
                        data-bs-target="#heroCarousel"
                        data-bs-slide-to="1"
                    ></button>
                    <button
                        type="button"
                        data-bs-target="#heroCarousel"
                        data-bs-slide-to="2"
                    ></button>
                    <button
                        type="button"
                        data-bs-target="#heroCarousel"
                        data-bs-slide-to="3"
                    ></button>
                    <button
                        type="button"
                        data-bs-target="#heroCarousel"
                        data-bs-slide-to="4"
                    ></button>
                </div>
            </div>
        </section>
        <div class="bg-sections">
            <!-- Products Section -->
            <section class="products-section">
                <div class="container-fluid">
                    
<div data-aos="fade-down">     <h2 class="section-title" >SẢN PHẨM ĐANG SALE</h2></div>
               

                    <div class="carousel-wrapper"  data-aos="fade-up">
                        <button
                            class="carousel-nav-btn prev-btn"
                            id="productsPrev"
                        >
                            <i
                                class="fa-solid fa-angle-left"
                                style="color: #ffffff; font-size: 16px"
                            ></i>
                        </button>

                        <div class="products-carousel-container">
                            <div
                                class="products-carousel"
                                id="productsCarousel"
                            >
                                <!-- Product cards will be generated by JavaScript -->
                            </div>
                        </div>

                        <button
                            class="carousel-nav-btn next-btn"
                            id="productsNext"
                        >
                            <i
                                class="fa-solid fa-angle-right"
                                style="color: #ffffff; font-size: 16px"
                            ></i>
                        </button>
                    </div>

                    <div class="carousel-dots" id="productsDots"></div>
                </div>
            </section>

            <!-- Combos Section -->
            <section class="combos-section">
                <div class="container-fluid">
                    <h2 class="section-title" data-aos="fade-down">COMBO SIÊU HỜI</h2>

                    <div class="carousel-wrapper" data-aos="fade-up">
                        <button
                            class="carousel-nav-btn prev-btn"
                            id="combosPrev"
                        >
                            <span>‹</span>
                        </button>

                        <div class="combos-carousel-container">
                            <div class="combos-carousel" id="combosCarousel">
                                <!-- Combo cards will be generated by JavaScript -->
                            </div>
                        </div>

                        <button
                            class="carousel-nav-btn next-btn"
                            id="combosNext"
                        >
                            <span>›</span>
                        </button>
                    </div>

                    <div class="carousel-dots" id="combosDots"></div>
                </div>
            </section>
            <div class="bg-voucherSection">
                <section class="voucher-section">
                    <div class="container-fluid px-4 px-md-5">
                        <div
                            class="d-flex justify-content-between align-items-center mb-4"
                        >
                            <h2 class="voucher-title mb-0">
                                VOUCHER DÀNH CHO BẠN
                            </h2>
                            <a href="#" class="view-all-link">Xem tất cả</a>
                        </div>

                        <!-- Voucher cards will be dynamically loaded here -->
                        <div class="row g-4" id="voucherContainer">
                            <!-- Vouchers will be loaded by jQuery -->
                            <div class="col-12 text-center py-5">
                                <div
                                    class="spinner-border text-primary"
                                    role="status"
                                >
                                    <span class="visually-hidden"
                                        >Đang tải...</span
                                    >
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>

        <div class="bg-storySection">
            <section class="hero-story-section">
                <div class="wave-background"></div>

                <div class="container-fluid">
                    <div class="row">
                        <div class="col-12 col-lg-6 mb-4 mb-lg-0">
                            <div
                                class="hero-image-container"
                             data-aos="fade-right"
                            >
                                <img
                                    src="/images/home_client/story.png"
                                    alt="Nghệ nhân pha cà phê"
                                    class="hero-image"
                                />
                            </div>
                        </div>

                        <div class="col-12 col-lg-6" data-aos="fade-left">
                            <div class="hero-content">
                                <p class="hero-subtitle">
                                    CÂU CHUYỆN VỀ THỨC UỐNG ĐẶC
                                    <br />
                                    SẢN CÙNG SƯ
                                </p>

                                <h1 class="hero-title">"NỐT HƯƠNG ĐẶC SẢN"</h1>

                                <div class="hero-tags">
                                    <span class="hero-tag"
                                        >Nốt hương đặc sản</span
                                    >
                                    <span class="hero-tag">Nguyên bản</span>
                                    <span class="hero-tag">Thủ công</span>
                                </div>

                                <p class="hero-description">
                                    Phê La luôn trân quý, nâng niu những giá trị
                                    Nguyên Bản ở mỗi vùng đất mà chúng tôi đi
                                    qua, với nỗi vất vả và nhọc nhằn của người
                                    nông dân; cảm nhận được hết thay những tầng
                                    hương đặc sản trong từng nguyên liệu. Một
                                    chặng đường dài đang chỉ phía trước, Phê La
                                    đã sẵn sàng viết tiếp câu chuyện Nốt Hương
                                    Đặc Sản – Nguyên Bản – Thơ Công đầy cảm hứng
                                    và càng tự hào hơn khi được mang sự mệnh
                                    "Đánh thức những nốt hương đặc sản của nông
                                    sản Việt Nam".
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
        <div class="bg-categorySection">
            <section class="category-section">
                <h2>DANH MỤC</h2>

                <!-- Slider container -->
                <div class="swiper">
                    <div class="swiper-wrapper" id="category-list">
                        <!-- JS render data -->
                    </div>

                    <!-- Nút điều hướng -->
                    <div class="swiper-button-prev"></div>
                    <div class="swiper-button-next"></div>
                </div>
            </section>
        </div>
        <div class="bg-productSection">
            <div class="container">
                <h1 class="pd-page-title text-center mb-5" data-aos="fade-down">
                    SẢN PHẨM BÁN CHẠY
                </h1>

                <div class="row g-4" id="pdProductGrid" data-aos="fade-up"></div>

                <div class="text-center mt-5">
                    <button class="pd-btn-view-all">View All</button>
                </div>
            </div>
        </div>
        <div class="bg-blogSection">
            <div class="pd-news-section py-5">
                <div class="container">
                    <div class="pd-news-header text-center mb-5">
                        <div class="pd-news-icon mb-3">
                            <i class="fas fa-coffee"></i>
                        </div>
                        <h2 class="pd-news-title">TIN TỨC NỔI BẬT</h2>
                    </div>

                    <div class="row g-4" id="pdNewsGrid">
                        News cards will be dynamically inserted here
                    </div>

                    <div class="text-center mt-5">
                        <button class="pd-btn-view-all">View All</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="pd-why-section py-5">
            <div class="container">
                <div class="row align-items-center g-5">
                    <div class="col-lg-5">
                        <div
                            class="pd-why-image-wrapper"
                            data-aos="fade-left"
                        >
                            <img
                                src="/images/home_client/why.png"
                                alt="MIRA Products"
                                class="pd-why-image"
                            />
                        </div>
                    </div>
                    <div class="col-lg-7">
                        <h2 class="pd-why-title">TẠI SAO BẠN LẠI CHỌN MIRA?</h2>

                        <div class="pd-why-carousel-container"  data-aos="fade-right">
                            <div
                                class="pd-why-carousel"
                                id="pdWhyCarousel"
                            ></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <%- include('../layout/footer.ejs'); -%>
        <script src="https://unpkg.com/@barba/core"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
        <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
        <script>
            window.addEventListener("load", () => {
                setTimeout(() => {
                    document.querySelector(".splash").classList.add("hide");
                    document.querySelector(".content").classList.add("show");
                    document.body.style.overflow = "auto"; // cho phép scroll lại
                }, 1000); // 3s
            });
        </script>
        <script>
            AOS.init({
                duration: 1000, // thời gian chạy animation (ms)
                once: true, // chỉ chạy 1 lần (khi scroll tới)
            });
        </script>
        <script src="https://cdn.jsdelivr.net/npm/@studio-freight/lenis@1.0.39/bundled/lenis.min.js"></script>
        <!-- <script>
            const lenis = new Lenis({
                duration: 1.5, // tốc độ (càng lớn càng mượt, 1.2 là vừa)
                easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)), // easing
            });

            function raf(time) {
                lenis.raf(time);
                requestAnimationFrame(raf);
            }

            requestAnimationFrame(raf);
        </script> -->

        <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Added jQuery library before custom script -->
        <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
        <script src="/client/js/cart/cart-popup.js"></script>
        <script src="/client/js/home/home.js"></script>
    </body>
</html>
